#第五章 操作符和表达式

## 1. 操作符

### 1.1 算术操作符
类似数学中的算术操作符：加、减、乘、除。另外还有个取模运算 %。

符号：
``+ - * / %``

>%为取模操作符，它接受两个整型操作数，把左操作数除以右操作数，但它返回的值是余数而不是商。


### 1.2 移位操作符
顾名思义就是移动原来的数值。
移位操作简单的分为：**向左移位**，**向右移位**

#### 1.2.1 向左移位
操作符为：``<<``
>在左移位中，值最左边的几位被丢弃，右边多出来的几个空位则由0补齐。

其实向左移动一位就是在原来值基础上增加了一倍，比如``<< 3``其实就是原来值*8。

#### 1.2.2向右移位
操作符为：``>>``
> 右移位操作存在一个左移位操作不曾面临的问题：从左边移入新位时，应该填充0还是1。如果填充0的话可能会改变原来值的正负。


 可以选择两种方：
 - 逻辑移位，左边移入的位用0填充
 - 算术移位，左边移入的位由原先该值的符号位决定，符号位为1则移入的位均为1，符号位为0则移入的位均为0，这样能够保持原数的正负不变。

> <font color = blue>标准说明无符号值执行的所有移位操作都是逻辑移位，但对于有符号值，到底是采用逻辑移位还是算术移位取决于编译器</font>

下面有个代码示例:

```c
/**
 *计算一个无符号值中为1的位的个数。 
 *传入值应该为 2进制 
 */
int count_one_bits(unsigned value){

    int ones;

    for ( ones = 0; value!=0 ; value=value >> 1)
    {
        //一个数用2取模不是不是0，就是1 
        if (value%2!=0)/* 当前最低位是1 */
        {
            ones++;
        }
        
    }
    
    printf(" %d \n",ones);
    return ones;
}
```




### 1.3 位操作符
首先得区分 **位操作符**和 **移位操作符** 别搞混了。

位操作符有：``& | ^ ``三个，分别代表 **AND** 、**OR**、 **XOR（异或）**。



### 1.4 赋值操作符
就是``=``
### 1.5 单目操作符

- ``!`` 操作符对它的操作数执行逻辑反操作；如果操作数为真，其结果为假，如果操作数为假，其结果为真。和关系操作符一样，这个操作符实际上产生一个整型结果，0或1。

- ``~`` 操作符对整型类型的操作数进行求补操作，操作数中所有原先为1的位变为0，所有原先为0的位变为1。

- ``-`` 操作符产生操作数的负值。

- ``+`` 操作符产生操作数的值；换句话说，它什么也不干。之所以提供这个操作符，是为了与-操作符组成对称的一对。

- ``&`` 操作符产生它的操作数的地址。
- ``*`` 操作符是间接访问操作符，它与指针一起使用，用于访问指针所指向的值。
- ``sizeof`` 操作符判断它的操作数的类型长度，以字节为单位表示。
- ``++ --`` 
前缀形式的++操作符出现在操作数的前面。操作数的值被增加，而表达式的值就是操作数增加后的值。后缀形式的++操作符出现在操作数的后面。操作数的值仍被增加，但表达式的值是操作数增加前的值。如果你考虑一下操作符的位置，这个规则很容易记住——<font color=red>在操作数之前的操作符在变量值被使用之前增加它的值；在操作数之后的操作符在变量值被使用之后才增加它的值。--操作符的工作原理与此相同，只是它所执行的是减值操作而不是增值操作。前缀和后缀形式的增值操作符都复制一份变量值的拷贝。用于周围表达式的值正是这份拷贝（在上面的例子中，“周围表示式”是指赋值操作）。前缀操作符在进行复制之前增加变量的值，后缀操作符在进行复制之后才增加变量的值。这些操作符的结果不是被它们所修改的变量，而是变量值的拷贝</font>”

摘录来自: [美] Kenneth A.Reek. “C和指针。” Apple Books. ”


### 1.6 关系操作符

``>  >= <  <= != ==``
需要注意 ``==``和``=``

### 1.7 逻辑操作符
``&&  ||``

A && B : 当A和B都是真的时候才返回真，并且先执行A，如果A为假，B不会执行。

A || B : 当A和B中有一个为真的时候就返回真。并且先执行A，如果A为真就不执行B了。

### 1.8 条件操作符

``expression1 ? expression2 : expression3``

expresion1为判定条件。如果expression1为真那么执行 expression2 如果为假 执行 expression2。

类似于
```c
if(expression1){
    expression2;
}else{
    expression3;
}

```
### 1.9 逗号操作符

直接出使用场景：

```c
while(expression1,expression2,expression3){
    ...;
}
```



## 2. 表达式
感觉表达式没啥要记录。




